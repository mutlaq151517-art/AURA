<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AURA - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Cairo", sans-serif;
}

body {
  background: linear-gradient(to bottom, #071a2f, #0d2746);
  color: white;
  padding: 20px;
}

.container {
  max-width: 500px;
  margin: auto;
  background: #0f2c50;
  padding: 20px;
  border-radius: 15px;
}

h1 {
  text-align: center;
  margin-bottom: 20px;
}

input {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 8px;
  border: none;
}

button {
  width: 100%;
  padding: 10px;
  background: #00bfff;
  border: none;
  color: white;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  opacity: 0.8;
}

.movie-item {
  background: #09203a;
  padding: 10px;
  margin-top: 10px;
  border-radius: 8px;
}

.delete-btn {
  background: red;
  margin-top: 5px;
}
</style>
</head>

<body>

<div class="container">
  <h1>ğŸ¬ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… AURA</h1>

  <input type="text" id="title" placeholder="Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù…">
  <input type="text" id="image" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
  <input type="text" id="video" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ">

  <button onclick="addMovie()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙŠÙ„Ù…</button>

  <h3 style="margin-top:25px;">Ø§Ù„Ø£ÙÙ„Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
  <div id="moviesList"></div>
</div>

<script>
const API = "https://aura-backend-mpvi.onrender.com/movies";

async function loadMovies() {
  const res = await fetch(API);
  const data = await res.json();

  const list = document.getElementById("moviesList");
  list.innerHTML = "";

  data.forEach(movie => {
    list.innerHTML += `
      <div class="movie-item">
        <b>${movie.title}</b>
        <button class="delete-btn" onclick="deleteMovie(${movie.id})">Ø­Ø°Ù</button>
      </div>
    `;
  });
}

async function addMovie() {
  const title = document.getElementById("title").value;
  const image = document.getElementById("image").value;
  const video = document.getElementById("video").value;

  if (!title || !image || !video) {
    alert("Ø¹Ø¨ÙŠ ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„ ğŸ”´");
    return;
  }

  await fetch(API, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ title, image, video })
  });

  alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­ âœ…");

  document.getElementById("title").value = "";
  document.getElementById("image").value = "";
  document.getElementById("video").value = "";

  loadMovies();
}

async function deleteMovie(id) {
  await fetch(API + "/" + id, {
    method: "DELETE"
  });

  alert("ØªÙ… Ø§Ù„Ø­Ø°Ù âœ…");
  loadMovies();
}

loadMovies();
</script>

</body>
</html>

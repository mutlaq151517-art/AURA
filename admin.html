<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AURA - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>

<style>
body {
  background:#071a2f;
  font-family:Arial;
  color:white;
  padding:20px;
}

.container {
  max-width:500px;
  margin:auto;
  background:#0f2c50;
  padding:20px;
  border-radius:15px;
}

input, select {
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border-radius:8px;
  border:none;
}

button {
  width:100%;
  padding:10px;
  border:none;
  border-radius:8px;
  background:#00bfff;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="container">

<h2>â• Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ù„Ø³Ù„</h2>

<input type="text" id="title" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„">
<input type="text" id="image" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
<button onclick="addSeries()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³Ù„Ø³Ù„</button>

<hr style="margin:20px 0;">

<h2>ğŸ¬ Ø¥Ø¶Ø§ÙØ© Ø­Ù„Ù‚Ø©</h2>

<select id="seriesSelect"></select>
<input type="text" id="episodeName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø­Ù„Ù‚Ø©">
<input type="text" id="episodeVideo" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ù„Ù‚Ø©">
<button onclick="addEpisode()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ù„Ù‚Ø©</button>

</div>

<script>

const API = "https://aura-backend-mpvi.onrender.com/movies";

async function loadSeries() {
  const res = await fetch(API);
  const data = await res.json();

  const select = document.getElementById("seriesSelect");
  select.innerHTML = "";

  data.forEach(item => {
    select.innerHTML += `
      <option value="${item._id}">${item.title}</option>
    `;
  });
}

async function addSeries() {
  const title = document.getElementById("title").value;
  const image = document.getElementById("image").value;

  await fetch(API, {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ title, image })
  });

  alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³Ù„Ø³Ù„ âœ…");
  loadSeries();
}

async function addEpisode() {
  const id = document.getElementById("seriesSelect").value;
  const name = document.getElementById("episodeName").value;
  const video = document.getElementById("episodeVideo").value;

  await fetch(API + "/" + id + "/episodes", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ name, video })
  });

  alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ù„Ù‚Ø© âœ…");
}

loadSeries();

</script>

</body>
</html>
